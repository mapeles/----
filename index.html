<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>포츈쿠키 운세 사이트</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="container">   
        <div id="name-modal">
            <h3>이름을 입력해주세요.</h3>
            <input type="text" name="" id="username">
            <input type="button" value="확인" onclick="getUsername()">
        </div>
        <div id="contents" class="hide">
            <div class="greeting">
                <h2><span id="name"></span>님 환영합니다</h2>
                <h2>오늘의 운세를 확인하기 위해 포춘쿠키를 선택해주세요</h2>
            </div>
            <div id="box-container">
                <div class="box">
                    <img onclick="selectCookie(1)" src="./fortune-cookie-before.png" alt="포츈쿠키이미지">
                </div>
                <div class="box">
                    <img onclick="selectCookie(2)" src="./fortune-cookie-before.png" alt="포츈쿠키이미지">
                </div>
                <div class="box">
                    <img onclick="selectCookie(3)"src="./fortune-cookie-before.png" alt="포츈쿠키이미지">
                </div>
            </div>
            <!--포춘쿠키 이미지 넣기 및 운세결과 보여주기-->
            <div id="result-message">운세결과</div>
        </div>
    </div>
    <script>
        function getUsername() {//함수실행
            const input = document.getElementById('username')//입력된 칸에서 input이라는 변수로 받아옴
            const username = input.value.toString()//input변수 를 username내에 문자로 변환한뒤 저장
            if(username.length == 0){//만약 username 변수의 문자열 길이가 0일경우
                window.alert('이름을 입력해주세요')//경고
            }
            else{
                const modal = document.getElementById('name-modal')
                const contents = document.getElementById('contents')
                const span = document.getElementById('name')//span이라는 변수안에 name 부분을 할당
                span.innerText = username // span 부분에 username 변수값을 입력
                modal.classList.add('hide')
                contents.classList.remove('hide')
            }
        }
        const selected = [false, false, false]
        function selectCookie(number){
            if(selected[number-1] == false){
                const target = event.target
                target.src =  "./fortune-cookie-after.png"
                selected[number-1] = true
                showMessage()
            } else{
                window.alert('이미 선택된 쿠키입니다')
            }
        }
        function getRandomInt(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);
            return Math.floor(Math.random() * (max - min)) + min; //최댓값은 제외, 최솟값은 포함
        }

        function showMessage(){
            const messages = [
                '어차피 결정된 사안에 대해서는 왈가불가하지 않는 편이 유리하다.',
                '평범함을 추구하면서 내심 무언가를 바라는 사람에게 행운이 온다.',
                '방법에 구애받지 않으려고 노력하나 정해진 수순은 그대로 행하라.',
                '분명치 않은 일에 참견하지 말고 자기가 맡은 일에 전력을 다하라.',
                '마음먹고 시작한 일이 주춤거리나 크게 마음 쓸 필요는 없는 운세.',
                '하루 종일 마음이 편치 않고 피곤할 때는 잠시 현실에서 벗어나자.',
                '내가 나설 자리가 맞는지 아닌지를 판단하는 일이 가장 힘든 작업.',
                '마음의 눈을 가질 수 있다면 그보다 좋은 도구가 어디에 있으려나.',
                '실리를 추구하고 사람들을 모으면 잃는 것보다 얻는 것이 더 많다.',
                '미운 자식 떡 하나 더 준다는 말도 있으니 때론 매몰찬 것이 좋다.',
                '지나치게 겸손하기보다는 적당히 자신감을 표출하는 것이 좋을 듯.',
                '가진 역량을 마음껏 펼칠 수 있는 주변여건이 조성되니 힘을 내라.',
                '분주하게 다니지만 실속이 없으니 한곳에 머무는 편이 효과적이다.',
                '굴러오는 복을 주워 담을 수 있는 절호의 기회가 가까이오고 있다.',
                '인간적인 측면을 부각시키는 일에 매진하면 알찬 결실이 기대된다.',
                '일의 완성도를 높일 수 있는 방법을 찾는 일이 무엇보다 시급하다.'
            ]
            const result = document.getElementById('result-message')
            let idx = getRandomInt(0, messages.length)
            result.innerText = messages[idx]
    
        }
    </script>
</body>
</html>